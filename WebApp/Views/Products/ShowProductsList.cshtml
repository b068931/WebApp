@using WebApp.ViewModels.Product;
@model ProductsSearchInitializator

<div class="mt-3 mx-2">
	<button id="searchToggler" class="position-fixed bottom-0 end-0 border border-3 rounded-pill mb-2 me-2" style="z-index:2001">
		<img id="showSearch" class="p-2" src="/resources/lookup.svg"/>
	</button>

	<div id="searchInputsContainer" class="search-bar position-fixed top-0 start-0 vh-100 border-end overflow-auto d-none" style="z-index:2001">
		<div class="d-flex flex-column">
			<div class="d-flex flex-column search-element">
				<div class="d-flex flex-row mx-2 py-2 prevent-select search-toggler" role="button">
					<span class="me-auto my-auto">Назва</span>
					<h2 class="my-auto maximizer">+</h2>
				</div>
				<div class="search-target">
					<div class="p-2">
						<label for="query" class="form-label">Пошук за назвою:</label>
						<input value="@Model.Query" type="text" class="form-control" id="query" />
					</div>
				</div>
			</div>
			<div class="d-flex flex-column search-element">
				<div class="d-flex flex-row mx-2 py-2 prevent-select search-toggler" role="button">
					<span class="me-auto my-auto">Категорія</span>
					<h2 class="maximizer my-auto maximizer">+</h2>
				</div>
				<div class="search-target">
					<div class="p-2">
						<label for="category" class="form-label">Категорія для пошуку:</label>
						<select asp-items="@Model.Categories" class="form-control" id="category">
							<option value="0">Не вказано</option>
						</select>
					</div>
				</div>
			</div>
			<div class="d-flex flex-column search-element">
				<div class="d-flex flex-row mx-2 py-2 prevent-select search-toggler" role="button">
					<span class="me-auto my-auto">Бренд</span>
					<h2 class="maximizer my-auto maximizer">+</h2>
				</div>
				<div class="search-target">
					<div class="p-2">
						<label for="brandSearch" class="form-label">Бренд товарів:</label>
						<select asp-items="@Model.Brands" id="brandSearch" class="form-control">
							<option value="0">Не вказано</option>
						</select>
					</div>
				</div>
			</div>
			<div class="d-flex flex-column search-element">
				<div class="d-flex flex-row mx-2 py-2 prevent-select search-toggler" role="button">
					<span class="me-auto my-auto">Ціна</span>
					<h2 class="maximizer my-auto maximizer">+</h2>
				</div>
				<div class="search-target">
					<div class="p-2 border-bottom">
						<label for="maxPrice" class="form-label">Макс. ціна:</label>
						<input type="number" class="form-control" id="maxPrice" />
					</div>
					<div class="p-2">
						<label for="minPrice" class="form-label">Мін. ціна:</label>
						<input type="number" class="form-control" id="minPrice" />
					</div>
				</div>
			</div>
			<div class="d-flex flex-column search-element">
				<div class="d-flex flex-row mx-2 py-2 prevent-select search-toggler" role="button">
					<span class="me-auto my-auto">Рейтинг</span>
					<h2 class="maximizer my-auto maximizer">+</h2>
				</div>
				<div class="search-target">
					<div class="p-2">
						<label for="minRating" class="form-label">Мін. рейтинг (від 0 до 10):</label>
						<input type="number" class="form-control" id="minRating" />
					</div>
				</div>
			</div>
			<div class="d-flex flex-column search-element">
				<div class="d-flex flex-row mx-2 py-2 prevent-select search-toggler" role="button">
					<span class="me-auto my-auto">Сортування</span>
					<h2 class="maximizer my-auto maximizer">+</h2>
				</div>
				<div class="search-target">
					<div class="p-2 border-bottom">
						<label for="maxPrice" class="form-label">Тип сортування:</label>
						<select asp-items="@Model.SortTypes" id="sortType" class="form-control">
							<option value="0">Не вказано</option>
						</select>
					</div>
					<div class="p-2">
						<label for="minPrice" class="form-label">Напрямок:</label>
						<select asp-items="@Model.Directions" id="orderType" class="form-control"></select>
					</div>
				</div>
			</div>
			<div class="p-2 mt-auto">
				<button id="searchButton" class="btn btn-outline-primary w-100">Пошук</button>
			</div>
		</div>
	</div>

	<div class="col-12" id="productsContainer"></div>
	<button id="loadMore" class="btn btn-outline-secondary w-100">Завантажити ще</button>
</div>

@section scripts {
	<script type="text/javascript" src="~/js/search.js"></script>
}